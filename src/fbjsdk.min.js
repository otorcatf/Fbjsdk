var fbjsdk={fbready:false,authResponse:null,userData:null,fbscope:null,init:function(a,b,c){if(typeof arguments[1]==="function"){c=b;b=true}if(fbjsdk.fbready){if(b&&fbjsdk.userData){fbjsdk.getUserData(c);return false}fbjsdk.loginFb(c);return false}if(!a.appId){console.error("The appId is requiered");return false}fbjsdk.scope=a.scope?a.scope:null;window.fbAsyncInit=function(){FB.init({appId:a.appId,channelUrl:a.channelUrl,status:true,cookie:true,xfbml:true});fbjsdk.fbready=true;if(b){fbjsdk.loginFb(c)}else{if(typeof c==="function"){c()}}};(function(j,g,k,f){var e=a.locale?a.locale:"en_US";var i,h=j.getElementsByTagName(g)[0];if(j.getElementById(k)){return}i=j.createElement(g);i.id=k;i.src="//connect.facebook.net/"+e+"/all"+(f?"/debug":"")+".js";h.parentNode.insertBefore(i,h)}(document,"script","facebook-jssdk",a.debug?true:false))},loginFb:function(a){FB.getLoginStatus(function(b){if(b.status==="connected"){fbjsdk.authResponse=b.authResponse;fbjsdk.getUserData(function(c){a(c)})}else{FB.login(function(c){if(c.authResponse){fbjsdk.getUserData(function(d){a(d)})}else{a(c)}return false},{scope:fbjsdk.scope})}})},getUserData:function(a,b){if(typeof arguments[0]==="function"){b=a;a="me"}if(a=="me"&&fbjsdk.userData){b(fbjsdk.userData);return false}FB.api("/"+a,function(c){fbjsdk.userData=c;b(fbjsdk.userData)})},getRequests:function(a){FB.api("/me/apprequests/",function(b){a(b);return false})},deleteRequests:function(b){var a=0;fbjsdk.getRequests(function(c){if(c.data.length>0){$.each(c.data,function(d,e){FB.api("/"+e.id,"DELETE",function(f){a++})});b(a)}})}};