var fbjsdk={fbready:false,authResponse:null,userData:null,fbscope:null,init:function(a,b,c){if(typeof arguments[1]==="function"){c=b;b=true}if(this.fbready){if(b&&this.userData){this.getUserData(c);return false}this.loginFb(c);return false}if(!a.appId){console.error("The appId is requiered");return false}this.fbscope=a.scope?a.scope:null;window.fbAsyncInit=function(){FB.init({appId:a.appId,channelUrl:a.channelUrl,status:a.status?a.status:true,cookie:a.cookie?a.cookie:true,xfbml:a.xfbml?a.xfbml:true});this.fbready=true;if(b){this.loginFb(c)}else{if(typeof c==="function"){c()}}};(function(j,g,k,f){var e=a.locale?a.locale:"en_US";var i,h=j.getElementsByTagName(g)[0];if(j.getElementById(k)){return}i=j.createElement(g);i.id=k;i.src="//connect.facebook.net/"+e+"/all"+(f?"/debug":"")+".js";h.parentNode.insertBefore(i,h)}(document,"script","facebook-jssdk",a.debug?true:false))},loginFb:function(a){FB.getLoginStatus(function(b){if(b.status==="connected"){this.authResponse=b.authResponse;this.getUserData(function(c){a(c)})}else{FB.login(function(c){if(c.authResponse){this.getUserData(function(d){a(d)})}else{a(c)}return false},{scope:this.fbscope})}})},getUserData:function(a,b){if(typeof arguments[0]==="function"){b=a;a="me"}if(a=="me"&&this.userData){b(this.userData);return false}FB.api("/"+a,function(c){this.userData=c;b(this.userData)})},getRequests:function(a){FB.api("/me/apprequests/",function(b){a(b);return false})},deleteRequests:function(b){var a=0;this.getRequests(function(c){if(c.data.length>0){$.each(c.data,function(d,e){FB.api("/"+e.id,"DELETE",function(f){a++})});b(a)}})}};